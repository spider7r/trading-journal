# Project Tasks: AI Trading Journal

- [x] **Phase 0: Design & Architecture**
    - [x] Create Product Specification (`docs/product_spec.md`)
    - [x] Define Database Schema
    - [x] Define UI/UX System

- [x] **Phase 1: MVP Setup**
    - [x] Initialize Next.js 14 Project (Tailwind, TypeScript)
    - [x] Set up Supabase Project (Locally or Remote)
    - [x] Create Database Migration for Schema
    - [x] Implement Authentication (Supabase Auth)

- [x] **Phase 2: Core Features**
    - [x] Build App Layout (Sidebar, Topbar)
    - [x] Implement Dashboard Widgets (P&L, Winrate)
    - [x] Build Trade Entry Form (Manual Logging)
    - [x] Implement Trades Table/List View

- [x] **Phase 2.5: Advanced Account Setup**
    - [x] Update Database Schema (Prop Firm details)
    - [x] Build Account Wizard (Multi-step Form)
    - [x] Enforce Account Creation on First Login

- [x] **Phase 3: AI Integration**
    - [x] Set up Gemini API (Key & Env)
    - [x] Fix Database Schema (`ai_reports` table)
    - [x] Implement "Analyze Trade" Button & Action
    - [x] Connect Chat Interface to Backend
    - [x] Verify AI Responses
    - [x] Implement Image Analysis & UI Overhaul
    - [x] Enhance AI Reasoning (Complex Questions)
    - [x] Restructure AI Coach Layout (Full Width)
    - [x] Add Clear Chat & Copy Features

- [x] **Phase 3.5: Strategies System**
    - [x] Create Strategies Schema & Actions
    - [x] Build Strategies Dashboard (Grid View)
    - [x] Implement Strategy Analytics (Win Rate, P&L, Profit Factor)
    - [x] Enhance Strategy Onboarding (Detailed Modal)
    - [x] Strategy Detail View (Drill-down)

- [x] **Phase 4: Analytics & Polish**
    - [x] Implement Charts (Equity Curve, Session Split)
    - [x] Add Dark Mode / Theming
    - [x] Mobile Responsiveness Check
# Project Tasks: AI Trading Journal

- [x] **Phase 0: Design & Architecture**
    - [x] Create Product Specification (`docs/product_spec.md`)
    - [x] Define Database Schema
    - [x] Define UI/UX System

- [x] **Phase 1: MVP Setup**
    - [x] Initialize Next.js 14 Project (Tailwind, TypeScript)
    - [x] Set up Supabase Project (Locally or Remote)
    - [x] Create Database Migration for Schema
    - [x] Implement Authentication (Supabase Auth)

- [x] **Phase 2: Core Features**
    - [x] Build App Layout (Sidebar, Topbar)
    - [x] Implement Dashboard Widgets (P&L, Winrate)
    - [x] Build Trade Entry Form (Manual Logging)
    - [x] Implement Trades Table/List View

- [x] **Phase 2.5: Advanced Account Setup**
    - [x] Update Database Schema (Prop Firm details)
    - [x] Build Account Wizard (Multi-step Form)
    - [x] Enforce Account Creation on First Login

- [x] **Phase 3: AI Integration**
    - [x] Set up Gemini API (Key & Env)
    - [x] Fix Database Schema (`ai_reports` table)
    - [x] Implement "Analyze Trade" Button & Action
    - [x] Connect Chat Interface to Backend
    - [x] Verify AI Responses
    - [x] Implement Image Analysis & UI Overhaul
    - [x] Enhance AI Reasoning (Complex Questions)
    - [x] Restructure AI Coach Layout (Full Width)
    - [x] Add Clear Chat & Copy Features

- [x] **Phase 3.5: Strategies System**
    - [x] Create Strategies Schema & Actions
    - [x] Build Strategies Dashboard (Grid View)
    - [x] Implement Strategy Analytics (Win Rate, P&L, Profit Factor)
    - [x] Enhance Strategy Onboarding (Detailed Modal)
    - [x] Strategy Detail View (Drill-down)

- [x] **Phase 4: Analytics & Polish**
    - [x] Implement Charts (Equity Curve, Session Split)
    - [x] Add Dark Mode / Theming
    - [x] Mobile Responsiveness Check

- [x] **Phase 5: Advanced Features**
    - [x] Backtesting Mode (Separate Live/Paper/Backtest)
    - [x] Social Sharing (Generate Trade Images)
    - [x] Advanced Analytics (Expectancy, Consecutive Wins, Avg R:R)
    - [x] Enhanced AI Analysis (Structured Trade Reviews)
    - [x] **Phase 2: Advanced Features (Order Execution & Session Saving)**
    - [x] Order Execution & P&L Tracking
    - [x] Session Saving (Supabase)
    - [x] CSV Data Upload

- [x] **Phase 3: FXReplay Clone (Multi-Timeframe)**
    - [x] **Candle Aggregation Logic**: Utility to build 1H/4H candles from 15m data.
    - [x] **Refactor Replay Engine**: Lift state to support multi-chart syncing.
    - [x] **Multi-Chart Grid**: Component to display multiple synced charts.
    - [x] **Master Time Controller**: Sync playback across all charts.

- [x] **Phase 4: Advanced Trading Features**
    - [x] **Limit & Stop Orders**: Implement pending order logic in replay engine.
    - [x] **Visual Trade Management**: Drag & Drop lines for Entry/SL/TP (using lightweight-charts plugins or overlays).
    - [x] **Risk Calculator**: Auto-calculate size based on SL distance.

- [ ] **Phase 5: Session Analytics**
    - [ ] Session Dashboard (Win Rate, Equity Curve)
    - [ ] Calendar Heatmap
